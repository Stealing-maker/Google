<script>
    function sendProduct() {
        const productId = document.getElementById("productId").value;
        const responseMessage = document.getElementById("responseMessage");

        if (!productId) {
            responseMessage.textContent = "請輸入商品編號！";
            return;
        }

        fetch("https://你的workers網址/api/buy", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ product: productId })
        })
        .then(response => response.json())
        .then(data => {
            responseMessage.textContent = data.message;
            showSuccessPopup(); // 顯示成功小視窗
        })
        .catch(error => {
            responseMessage.textContent = "發生錯誤：" + error;
        });
    }

    function showSuccessPopup() {
        alert("訂購完成！"); // 彈出小視窗
    }
</script>
